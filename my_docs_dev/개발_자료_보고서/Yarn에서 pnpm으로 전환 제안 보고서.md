## 1. 제안 배경

현재 우리 프로젝트에서는 패키지 매니저로 **Yarn**을 사용하고 있습니다. 하지만 최신 개발 환경에서는 **pnpm**이 더 나은 성능과 효율성을 제공함에 따라, `yarn`에서 `pnpm`으로 전환을 검토할 필요가 있습니다.

## 2. 패키지 매니저 비교 분석

| 항목 | `npm` | `yarn` | `pnpm` |
| --- | --- | --- | --- |
| 기본 제공 여부 | Node.js에 기본 포함 | 별도 설치 필요 | 별도 설치 필요 |
| 속도 | 보통 | 빠름 | 가장 빠름 |
| 저장 구조 | 중복 설치 (node_modules) | 일부 중복 제거 | 하드링크 기반 저장 (디스크 절약) |
| 디스크 사용량 | 가장 많음 | 보통 | 가장 적음 |
| 설치 명령 | `npm install` | `yarn install` | `pnpm install` |
| lock 파일 | `package-lock.json` | `yarn.lock` | `pnpm-lock.yaml` |
| Workspaces (모노레포) | 지원 (v7 이상) | 우수 | 가장 효율적 |
| 호환성 | 매우 높음 | 높음 | 일부 패키지 호환성 이슈 가능성 |
| 커뮤니티 / 생태계 | 가장 크고 안정적 | 활발 | 빠르게 성장 중 |
| 보안 점검 | `npm audit` 내장 | `yarn audit` | `pnpm audit` |
| Plug’n’Play (P’n’P) | 미지원 | 지원 (옵션) | 미지원 |

## 3. pnpm의 핵심 장점

- **디스크 공간 절약**: 동일한 패키지를 프로젝트 간 중복 저장하지 않음 (하드링크 처리)
- **속도**: 설치 속도 및 캐시 활용 측면에서 가장 우수
- **정확한 의존성 관리**: 설치 결과가 항상 일관되며 예측 가능
- **보안**: 격리된 node_modules 구조로 인해 취약점 방지 효과
- **대규모 모노레포에 최적화**: Workspaces를 가장 효율적으로 지원

## 4. 전환에 따른 고려사항

- 기존 `yarn.lock` → `pnpm-lock.yaml`로 전환 필요
- CI/CD 설정 중 `yarn` 명령 → `pnpm` 명령 변경 필요
- 일부 스크립트/도구에서 `yarn` 명령 사용 시 수정 필요

## 5. 도입 제안

다음과 같은 절차로 전환을 진행할 것을 제안합니다:

1. `pnpm` 전환 테스트 브랜치 생성
2. 기존 `yarn.lock` 제거 및 `pnpm install` 실행
3. 기존 CI/CD 파이프라인 및 개발 환경에서 정상 작동 확인
4. 전사 프로젝트에 순차적 도입 (모노레포부터 적용 권장)

## 6. 결론

`pnpm`은 현대적인 JavaScript 생태계에서 가장 성능이 우수하고 효율적인 패키지 매니저입니다. **디스크 효율성, 속도, 대규모 프로젝트 적합성** 측면에서 Yarn보다 우위에 있으며, 앞으로의 생산성과 안정성을 높이기 위해 전환을 강력히 제안드립니다.