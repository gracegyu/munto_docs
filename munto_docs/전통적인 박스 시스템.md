## **문서 개요**

- **목적**: 매출 극대화를 위한 추천/발견 알고리즘 전략 수립
- **범위**: 유저 평가 시스템, 매칭 전략, 성별별 차별화 전략
- **배경**: 단순 필터 기반 매칭에서 수익 최적화 중심의 정교한 알고리즘으로 전환

---

## **1. 핵심 전략 목표**

### **1.1 기본 원칙**

- **매출 극대화**: 매칭 확률 최적화가 아닌 지속적인 탐색과 과금 유도
- **적절한 긴장감**: "될 듯 말 듯"한 프로필 노출로 사용자 참여 지속
- **성별별 차등화**: 남성(과금 주체) vs 여성(리텐션 중심) 전략

### **1.2 추천/발견 탭 구분**

- **추천 탭**: 검증된 고품질 매칭 (Quality & Proven)
    - 기본 4개 박스 가중치 적용
- **발견 탭**: 탐색적 매칭 + 신규 유저 발굴 (Exploration & Discovery)
    - 4개 박스의 **다른 가중치** 설정 가능
    - 탐색적 목적에 맞춰 매력도 비중 조정, 신규 유저 우선 등

---

## **2. 박스 기반 평가 시스템**

### **2.0 박스 구조 개념**

**전통적 접근 (Phase 1: 현재)**

- 4개의 평가 박스: 매력도, 활동성, 수익유발, 지출
- 각 박스는 명확한 계산식과 가중치로 운영
- 수동 최적화를 통한 A/B 테스트

**AI 전환 계획 (Phase 2: 3~6개월 후)**

- 각 박스를 AI 모델로 대체
- 딥러닝 기반 특성 자동 추출
- 실시간 학습과 예측
- 가중치 자동 조정

### **2.1 매력도 박스 (Desirability Box)**

**의미**

- 다른 유저들로부터 받은 호감도 평가
- "이 사람이 얼마나 인기있는가"

**평가 기준**

- 좋아요(0.7), 슈퍼 좋아요(1), 싫어요(0) 기반 산출
- 전체 평가 중 긍정적 평가의 가중 평균
- 프로필 조회 후 긍정 액션 전환율

**계산식**

```
매력도 점수 = (슈퍼좋아요 개수 × W_super + 좋아요 개수 × W_like + 싫어요 개수 × W_dislike) / 전체 평가 개수

가중치 (조정 가능):
- W_super (슈퍼좋아요): 1.0
- W_like (좋아요): 0.7
- W_dislike (싫어요): 0.0

```

- 0~1 사이 값으로 정규화
- 최소 평가 수(조정 가능, 기본: 10개) 미만인 경우 평균값(0.5) 적용

**활용 방안**

- 기본 매칭 품질 결정
- 노출 우선순위 설정
- 상위 매력도 유저는 프리미엄 콘텐츠로 활용

### **2.2 활동성 박스 (Activity Box)**

**의미**

- 플랫폼 내 전반적 활동성
- "이 사람이 얼마나 열심히 사용하는가"

**평가 기준**

- **접속 빈도**: 일일 접속 횟수, 주간 접속 일수
- **평가·액션 횟수**: 노출된 프로필 대비 실제 평가 비율 (좋아요/싫어요 클릭률)
- **프로필 완성도**: 프로필 사진 개수 등

**계산식**

```
활동성 점수 = (접속 빈도 점수 × W_frequency) + (평가·액션 비율 × W_action) + (프로필 완성도 × W_profile)

가중치 (조정 가능):
- W_frequency (접속 빈도): 0.4
- W_action (평가·액션): 0.4
- W_profile (프로필 완성도): 0.2

세부 계산:
- 접속 빈도 점수 = (최근 N일 접속 일수 / N)
  * N: 조정 가능 (기본: 7일)
- 평가·액션 비율 = 실제 평가한 프로필 수 / 노출된 프로필 수
- 프로필 완성도 = 등록된 사진 개수 / 최대 사진 개수

```

- 0~1 사이 값으로 정규화
- 신규 유저는 평균값(조정 가능, 기본: 0.5) 적용

**활용 방안**

- 활성 유저 우선 노출로 매칭 효율 증대
- 비활성 유저 하위 노출로 품질 관리
- 이탈 징후 포착 및 리텐션 전략 수립

### **2.3 수익 유발 박스 (Revenue Trigger Box)**

**의미**

- 다른 유저가 이 유저에게 재화를 소비하도록 유도하는 정도
- "이 사람 잘 받아준다" → 다른 유저가 이 유저와 상호작용을 이어가려는 경향이 높음

**평가 기준**

- 친구 신청 수락률
- 친구 수락 빈도
- 좋아요 등 상호작용에 대한 응답률
- 채팅 응답률 및 지속률
- 데이트 신청 수락률

**계산식**

```
수익유발 점수 = (친구 신청 수락률 × W_friend) + (좋아요 응답률 × W_like) +
                (채팅 응답률 × W_chat)

가중치 (조정 가능):
- W_friend (친구 신청 수락률): 0.3
- W_like (좋아요 응답률): 0.2
- W_chat (채팅 응답률): 0.5

세부 계산:
- 친구 신청 수락률 = 수락한 친구 신청 수 / 받은 친구 신청 수
- 좋아요 응답률 = 맞좋아요 수 / 받은 좋아요 수
- 채팅 응답률 = 응답한 채팅 수 / 받은 채팅 수

```

- 0~1 사이 값으로 정규화
- 최소 요청 수(조정 가능, 기본: 5개) 미만인 경우 평균값(조정 가능, 기본: 0.5) 적용

**활용 방안**

- 수락률 높은 유저를 다른 유저에게 우선 노출
- 상호작용 성공 가능성 높은 매칭 제공
- 전체 플랫폼 활성화 및 재화 소비 유도

### **2.4 지출 박스 (Spending Box)**

**의미**

- 유저의 직접적인 과금 및 재화 소비 수준
- "이 사람 돈 많이 쓴다"

**평가 기준**

- 데이트 신청 빈도 및 금액
- 추가 멤버 보기 구매 빈도
- 친구 신청, 채팅 신청 등 재화 기반 액션 빈도
- 슈퍼좋아요 사용 빈도
- 재화 구매 횟수 및 총 결제 금액
- 과금 전환 가능성 및 지속성

**계산식**

```
지출 점수 = (총 결제 금액 정규화 × W_payment) + (재화 사용 빈도 × W_usage) + (과금 액션 다양성 × W_diversity)

가중치 (조정 가능):
- W_payment (총 결제 금액): 0.5
- W_usage (재화 사용 빈도): 0.3
- W_diversity (액션 다양성): 0.2

세부 계산:
- 총 결제 금액 정규화 = min(1.0, 최근 N일 결제 금액 / 목표 금액)
  * N: 조정 가능 (기본: 30일)
  * 목표 금액: 조정 가능 (기본: 설정 필요)
- 재화 사용 빈도 = (데이트 신청 수 + 친구 신청 수 + 기타 재화 액션 수) / 활동 일수
- 과금 액션 다양성 = 사용한 과금 기능 종류 수 / 전체 과금 기능 수

```

- 0~1 사이 값으로 정규화
- 무과금 유저는 0점, 첫 결제 시 최소값(조정 가능, 기본: 0.1) 부여

**활용 방안**

- 고과금 유저 우선 케어
- 맞춤형 프리미엄 노출 제공
- 과금 유도 전략 최적화

### **2.5 종합 점수 산출**

**전통적 계산 (Phase 1: 현재)**

```
개인 점수 = (매력도 × W1) + (활동성 × W2) + (수익유발 × W3) + (지출 × W4)

탭별/성별별 가중치 예시:

[추천 탭]
남성:
  W1 (매력도) = 0.3
  W2 (활동성) = 0.2
  W3 (수익유발) = 0.1
  W4 (지출) = 0.4

여성:
  W1 (매력도) = 0.4
  W2 (활동성) = 0.3
  W3 (수익유발) = 0.2
  W4 (지출) = 0.1

[발견 탭] - 다른 가중치 설정 가능
남성:
  W1 (매력도) = 0.4  (탐색 강화)
  W2 (활동성) = 0.3
  W3 (수익유발) = 0.1
  W4 (지출) = 0.2

여성:
  W1 (매력도) = 0.5  (신규 발굴 강화)
  W2 (활동성) = 0.3
  W3 (수익유발) = 0.15
  W4 (지출) = 0.05

```

- 0~1 사이 값으로 정규화
- 탭별로 독립적인 가중치 적용 가능
- A/B 테스트를 통한 가중치 최적화

**AI 기반 계산 (Phase 2: 3~6개월 후)**

- 각 박스를 딥러닝 모델로 처리
- 비선형 관계 자동 학습
- 다차원 특성 추출
- 실시간 가중치 업데이트

### **2.6 신규 유저 가중치 (추가 보정)**

**적용 대상**

- 가입 후 7일 이내 유저

**작동 방식**

- **초기값 설정**: 매력도, 활동성, 수익유발, 지출 모두 평균값으로 시작
- **일별 감소 보너스**:
    - 1일차 ~ 7일차: 지속적으로 보너스 감소
    - 8일차 이후: 보너스 없음

**점수 안정화 메커니즘**

- 평가가 쌓이면서 평균값에서 실제 점수로 서서히 이동
- 급격한 점수 변화 방지로 안정적 경험 제공
- 예: 매력도 높은 평가를 받아도 평균에서 천천히 상승

**목적**

- 초기 노출 기회 보장
- 빠른 평가 데이터 수집
- 점진적 적응으로 이탈 방지

**신규 유저 점수 보정 계산식** (N일 이내, 조정 가능)

```
최종 점수 = (매력도 × W1 + 활동성 × W2 + 수익유발 × W3 + 지출 × W4) × (1 - 신규유저보너스) + 신규유저보너스

신규유저보너스 감소 스케줄 (조정 가능, 기본값):
- 1일차: 0.35
- 2일차: 0.30
- 3일차: 0.25
- 4일차: 0.20
- 5일차: 0.15
- 6일차: 0.10
- 7일차: 0.05
- 8일차 이후: 0.00

※ 신규 유저 기간(기본: 7일), 일별 보너스 값 모두 조정 가능

예시 계산:
- 개인점수 0.3인 1일차 유저: 0.3 × (1 - 0.35) + 0.35 = 0.3 × 0.65 + 0.35 = 0.545점
- 개인점수 0.6인 4일차 유저: 0.6 × (1 - 0.20) + 0.20 = 0.6 × 0.80 + 0.20 = 0.680점
- 개인점수 0.4인 7일차 유저: 0.4 × (1 - 0.05) + 0.05 = 0.4 × 0.95 + 0.05 = 0.430점

```

- 신규 유저 보너스가 클수록 최상위 점수(1점)에 가까워짐
- 최소 보장 점수는 신규유저보너스 값과 동일

---

## **3. 유저 분류 기준**

### **3.1 신규 유저**

**기준**

- 가입 후 7일 이내

**특징**

- 매력도 점수가 아직 안정화되지 않음
- 플랫폼 적응 기간
- 이탈 위험이 가장 높은 시기
- 신규 유저 가중치 적용 대상

### **3.2 기존 유저**

**기준**

- 가입 후 7일 초과

**특징**

- 안정화된 평가 점수 보유
- 플랫폼 이용 패턴 확립
- 과금 성향 파악 가능
- 표준 가중치 적용

---

## **4. 매칭 범위 및 구간 설정**

### **4.1 상대적 정규화 기반 범위 계산**

**기본 개념**

- 각 유저의 종합점수를 0.5로 정규화 (자신을 중심으로)
- 0~0.5: 나보다 낮은 범위 / 0.5~1: 나보다 높은 범위
- 전체 유저 분포의 표준편차(시그마)를 활용한 동적 조정
- 신규 유저는 넓은 범위, 기존 유저는 정교한 범위

### **4.2 구간 기반 매칭 시스템**

**구간 설정 예시: [0.1, 0.3, 0.6, 0.9]**

- **0.1~0.3 구간**: 나보다 상당히 낮은 그룹 (자신감 회복)
- **0.3~0.5 구간**: 나보다 약간 낮은 그룹 (안정적 매칭)
- **0.5~0.6 구간**: 나보다 약간 높은 그룹 (현실적 도전)
- **0.6~0.9 구간**: 나보다 상당히 높은 그룹 (프리미엄 경험)

**유저 추출 메커니즘**

- 리스트 개수에 따라 추출 유저 수 결정
    - 예: [0.1, 0.3, 0.6, 0.9] → 4개 구간 → 4명 추출
    - 예: [0.2, 0.5, 0.8] → 3개 구간 → 3명 추출
- 각 구간에서 1명씩 랜덤 추출
- 추출된 유저는 구간 내에서 랜덤 선택

**노출 순서 규칙**

- 최하위 구간 유저는 첫 번째 위치 배제
- 중간~상위 구간 유저를 앞쪽에 배치
- 나머지 위치는 랜덤 또는 전략적 배치
- 긴장감 유지를 위한 순서 최적화

**상대적 위치 보정**

- 상위권 유저의 하위 구간 → 전체 평균 수준 유저 매칭
- 하위권 유저의 상위 구간 → 전체 중간 수준 유저 매칭
- 모든 유저가 자신의 위치에서 적절한 범위의 매칭 경험

### **4.3 A/B 테스트를 위한 박스 시스템 병렬 구성**

**구성 방식**

- 각 유저 그룹에 다른 박스 설정(Configuration) 할당
- 동일 시점에 여러 설정 동시 실행
- 독립적인 점수 산출 및 매칭 수행
- 유저는 자신이 속한 그룹의 설정만 적용받음

**테스트 가능 항목**

- 4개 박스 내부 가중치 (매력도, 활동성, 수익유발, 지출 각각)
- 박스 간 가중치 (W1, W2, W3, W4)
- 시그마(표준편차) 값
- 구간 경계값 [0.1, 0.3, 0.6, 0.9] 등
- 신규 유저 보너스 스케줄
- 탭별(추천/발견) 가중치

**구간 테스트 예시**

- **Box A (기본 구간)**: [0.1, 0.3, 0.6, 0.9] - 균형잡힌 분포
- **Box B (실험 구간)**: [0.2, 0.4, 0.7, 0.95] - 상위 집중 분포
- 매칭 성과 비교 분석

**가중치 테스트 예시**

- **Group A**: 추천 탭 남성 W4(지출) = 0.4
- **Group B**: 추천 탭 남성 W4(지출) = 0.3, W1(매력도) = 0.4
- 과금 전환율, ARPU, 리텐션 비교

**성과 측정 기준**

- 과금 전환율 및 ARPU
- 매칭 성공률 (상호 좋아요)
- 유저 리텐션 (7일, 30일)
- 평균 세션 시간
- 탭별 이용률

---

## **5. 탭별 노출 전략**

### **5.1 추천 탭 (하루 4명)**

- **상위 25% (1명)**: 희망과 도전 의욕 자극
- **중위 50% (2명)**: 현실적 매칭, 과금 유도
- **하위 25% (1명)**: 상대적 가치 인식

### **5.2 발견 탭 (8시간마다 3명)**

- **신규 유저 20%**: 새로운 가능성 탐색
- **기존 유저 80%**:
    - 상위 15%: 간헐적 프리미엄 경험
    - 중위 60%: 다양한 탐색 기회
    - 하위 25%: 현실적 기준점

---

## **6. 성별별 차별화 전략**

### **6.1 남성 유저 전략 (과금 주체)**

**핵심 목표**: 데이트 신청 등 재화 기반 액션 유도

**노출 전략**

- "될 듯 말 듯"한 매력도의 여성 프로필 중심
- 간헐적 상위 매력도 프로필로 도전 욕구 자극
- 수락률 높은 여성 우선 노출로 성공 경험 제공

**과금 유도 전략**

- 데이트 신청 유도를 위한 매력적 프로필 배치
- 친구 신청 성공 가능성이 높은 유저 노출
- 시간 제한과 희소성으로 긴급성 부여

### **6.2 여성 유저 전략 (수익 창출 파트너)**

**핵심 목표**: 남성의 재화 액션 수락 및 활성화

**평가 전략**

- 남성의 호감 표시(좋아요, 친구신청, 데이트신청)에 대한 응답률이 핵심
- 수락률이 높은 여성 = 높은 참여도 = 플랫폼 가치 상승
- 적극적 응답 유저가 남성 과금을 유도하는 핵심 파트너

**활성화 전략**

- 응답률 높은 여성에게 더 많은 노출 기회 제공
- 수락 활동에 대한 인센티브 설계
- 긍정적 상호작용으로 전체 생태계 활성화

---

## **7. 중복 노출 정책**

### **7.1 기본 원칙**

- **탭 내 중복**: 3~4개월 후 재노출 가능
    - **기본 기준: 3~4개월 미노출**
    - **유저 풀이 소진되면, 마지막 노출 순으로 재조합하여 노출 가능**
- **탭 간 중복**: 허용 (동시 노출 가능)

### **7.2 정책 근거**

**재노출 허용 이유**

- 프로필 업데이트 반영
- 제한된 유저 풀에서 지속적 콘텐츠 제공

**3~4개월 주기 설정 이유**

- 최소 남녀 500명 기준으로 충분한 순환 주기 확보
- 하루 4명 추천 기준 약 125일 소요 (500명/4명)
- 신규 유저 유입과 기존 유저 이탈 고려
- 과도한 반복 노출 방지 및 신선도 유지

---

## **8. 과금 모델 연동**

### **8.1 추천 탭 과금**

**기본 제공**

- 하루 4명 무료 노출

**유료 옵션**

- 메인 추가 프로필 추천: 남성 6재화, 여성 무료
- 테마 추가 프로필 추천: 남성 8재화, 여성 6재화
- 핫한 테마 추천: 남성 8재화, 여성 무료
- 테마별 프로필 추천: 남성 6재화, 여성 무료

### **8.2 발견 탭 과금**

**기본 제공**

- 8시간마다 3명 무료 노출

**유료 액션**

- 슈퍼라이크: 남녀 모두 1재화
- 일반 친구 요청: 남녀 모두 4재화
- 메시지 친구 요청: 남성 6재화, 여성 미제공
- 친구 요청한 멤버와 채팅: 남성 10재화, 여성 5재화
- 관심을 받은 프로필 열기: 남성 4재화, 여성 무료
- 관심 보낸 프로필 열기: 남성 2재화, 여성 무료

### **8.3 수익 극대화 전략**

- 매칭 성사 직전 과금 유도
- 시간 제한으로 긴급성 부여
- 단계별 과금 옵션 제공

---

## **9. 성과 측정 지표 (KPI)**

### **9.1 매출 관련 지표**

- 일일 데이트 신청 건수 및 총액
- 데이트 신청 수락률
- 유저당 평균 재화 소모량 (ARPU)
- 남성 유저 과금 전환율
- 여성 유저 수락률별 수익 기여도
- 탭별 과금 효율성
- 신규 유저 첫 결제까지 소요 시간

### **9.2 사용자 경험 지표**

- 매칭 성사율 (상호 좋아요)
- 평균 세션 시간
- 일일/주간/월간 리텐션
- 탭별 이용률 및 만족도

### **9.3 알고리즘 성능 지표**

- 추천 정확도 (좋아요 전환율)
- 신규 유저 평가 수집 속도
- 3축 점수 분포 적정성
- 구간별 매칭 성공률

---

## **10. 운영 및 최적화**

### **10.0 전체 아키텍처**

**사전 필터 레이어**

- 하드 필터: 지역, 나이, 성별
- 소프트 필터: 선호 설정, 차단 목록

**박스 평가 레이어**

- 4개 박스 병렬 처리
- 각 박스 독립적 점수 산출
- 종합 점수 계산

**매칭 결정 레이어**

- 상대적 정규화
- 구간별 유저 추출
- 노출 순서 결정

### **10.1 A/B 테스트 계획**

**테스트 대상**

- 4개 박스 내부 가중치 조정 (매력도, 활동성, 수익유발, 지출)
- 박스 간 가중치 조정
- 구간별 노출 비율 (Box A vs Box B)
- 상대적 정규화 시그마 값 최적화
- 구간 경계값 조정 ([0.1, 0.3, 0.6, 0.9] vs 다양한 조합)
- 신규 유저 부스팅 효과
- 재노출 주기 최적화

**측정 기간**

- 최소 7일 이상 실행
- 통계적 유의성 확보
- 계절성 고려

### **10.2 지속적 개선**

**단기 개선 (1~3개월) - 박스 가중치 최적화**

- 각 박스 내 세부 가중치 조정 (매력도, 활동성, 수익유발, 지출)
- 박스 간 가중치 최적화
- 탭별(추천/발견) 독립적 가중치 테스트
- 노출 비율 조정
- 과금 전환 개선

**중장기 개선 (3~6개월) - 박스 AI 전환 및 자동 최적화**

- 각 박스별 AI 모델 개발 (매력도, 활동성, 수익유발, 지출)
- 데이터 수집 및 학습
- 전통적 계산식과 AI 비교 테스트
- AI 최적화 실험 설계 적용 (상세: [AI 기반 시스템 문서](https://file+.vscode-resource.vscode-cdn.net/Users/munto/Projects/dating-docs/algorithm-ai-system.md))
- 단계적 AI 전환

### **10.3 리스크 관리**

**모니터링 항목**

- 점수 분포 이상 변화
- 매칭률 급격한 변동
- 이탈률 증가 신호
- 과금 전환율 하락

**대응 방안**

- 즉시 롤백 체계 구축
- 단계적 배포 전략
- 실시간 알림 시스템
- 정기 리뷰 회의

---

## **11. 향후 발전 방향**

### **11.1 Phase 1 (현재) - 전통적 필터 및 박스 시스템**

**사전 필터**

- 지역, 나이, 성별 등 기본 필터
- 유저 설정 기반 필터링

**박스 기반 평가**

- 4개 박스 계산식 적용
- 수동 가중치 조정
- A/B 테스트로 최적화

### **11.2 Phase 2 (3개월 후) - 하이브리드 AI 시스템**

**박스 AI 전환**

- 매력도 박스 → CNN 기반 이미지 분석 AI
- 활동성 박스 → RNN 기반 행동 패턴 AI
- 수익유발 박스 → 예측 모델 AI
- 지출 박스 → 예측 모델 AI

**AI 최적화 실험 설계**

- 시그마(표준편차) 자동 탐색
- 가중치 자동 탐색
- 실시간 최적화 프레임워크
- 상세 내용은 [AI 기반 시스템 문서](https://file+.vscode-resource.vscode-cdn.net/Users/munto/Projects/dating-docs/algorithm-ai-system.md) 참조

**전통적 필터 병행 운영**

- 기본 필터는 유지
- AI가 세부 최적화 담당

### **11.3 Phase 3 (6개월 후) - 완전 AI 자동화**

**통합 AI 모델**

- 모든 박스를 하나의 딥러닝 모델로 통합
- 엔드투엔드 학습
- 실시간 최적화

**전통적 필터 최소화**

- AI가 모든 매칭 결정
- 필터는 최소 안전장치로만 활용

---

## **12. 예상 효과**

### **12.1 정량적 효과**

- 과금 전환율 30% 상승 예상
- ARPU 25% 증가 기대
- 30일 리텐션 20% 개선

### **12.2 정성적 효과**

- 사용자 만족도 향상
- 브랜드 신뢰도 증가
- 시장 차별화 달성
- 지속가능한 성장 기반 마련